#include <stdio.h>
#include <locale.h>
#include <ctype.h>
#include <stdlib.h>

int main () {
    setlocale(LC_CTYPE, "");

    struct posicao {
        int x, y;
    }pos, map1, map2;

    int i, j;
    char direcao;

    char mapa[20][20] = {'#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#',
                         '#', '#', '#', '#', '#', '-', '-', '-', '-', '-', '-', '-', '-', '-', '#', '#', '#', '#', '#', '#',
                         '#', '#', '#', '#', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '#', '#', '#', '#',
                         '#', '#', '#', '#', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '#', '#', '#',
                         '#', '#', '#', '#', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '#', '#',
                         '#', '#', '#', '-', '-', '-', '-', '-', '#', '#', '#', '#', '-', '-', '-', '-', '-', '-', '-', '#',
                         '#', '#', '-', '-', '-', '-', '-', '#', '#', '#', '#', '#', '#', '#', '-', '-', '-', '-', '-', '#',
                         '#', '#', '-', '-', '-', '-', '#', '#', '#', '#', '#', '#', '#', '#', '-', '-', '-', '-', '-', '#',
                         '#', '#', '-', '-', '-', '-', '#', '#', '#', '#', '#', '#', '#', '#', '-', '-', '-', '-', '-', '#',
                         '#', '#', '-', '-', '-', '-', '-', '#', '#', '#', '#', '#', '#', '-', '-', '-', '-', '-', '-', '#',
                         '#', '#', '#', '#', '-', '-', '-', '-', '#', '#', '#', '#', '-', '-', '-', '-', '-', '-', '-', '#',
                         '#', '#', '#', '#', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '#',
                         '#', '#', '#', '#', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '#',
                         '#', '#', '#', '#', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '#',
                         '#', '#', '#', '#', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '#',
                         '#', '#', '#', '-', '-', '-', '-', '-', '#', '#', '#', '-', '-', '-', '-', '-', '-', '-', '#', '#',
                         '#', '#', '-', '-', '-', '-', '#', '#', '#', '#', '#', '#', '-', '-', '-', '-', '#', '#', '#', '#',
                         '#', '#', '-', '-', '-', '-', '#', '#', '#', '#', '#', '#', '-', '-', '-', '#', '#', '#', '#', '#',
                         '#', '#', '-', '-', '-', '#', '#', '#', '#', '#', '#', '#', '-', '-', '#', '#', '#', '#', '#', '#',
                         '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#'};

    pos.x = 8;
    pos.y = 8;

    map1.x = pos.x - 10;
    map1.y = pos.y - 10;

    map2.x = pos.x + 10;
    map2.y = pos.y + 10;

    do {
        for (i = map2.y + 1; i > map1.y; i --) {
            for (j = map1.x; j < map2.x + 1; j ++) {
                if (i >= 0 && j >= 0 && j <= 20 && i <= 20){
                    if (i == pos.y && j == pos.x) {
                        printf("L ");
                    }
                    else if (i >= 0 && i <= 19 && j >= 0 && j <= 19){
                        printf("%c ", mapa[i][j]);
                    }
                    else printf("- ");
                }
                else printf("  ");
            }
            printf("\n");
        }


        scanf(" %c", &direcao);
        direcao = toupper(direcao);
        if((direcao == 'A' || direcao == 'S' || direcao == 'D' || direcao == 'W') &&
           pos.x + 1 < 100 && pos.y + 1 < 100 && pos.x - 1 > -100 && pos.y - 1 > -100) {
            switch (direcao) {
                case 'A' :
                    if (pos.x - 1 > 0 && mapa[pos.x - 1][pos.y] == '-')
                        pos.x --;
                    break;
                case 'D' :
                    if (pos.x + 1 < 20 && mapa[pos.x + 1][pos.y] == '-')
                        pos.x ++;
                    break;
                case 'S' :
                    if (pos.y - 1 > 0 && mapa[pos.x][pos.y - 1] == '-')
                        pos.y --;
                    break;
                case 'W' :
                    if (pos.y + 1 < 20 && mapa[pos.x][pos.y + 1] == '-')
                        pos.y ++;
                    break;
            }
        }
        map1.x = pos.x - 10;
        map1.y = pos.y - 10;

        map2.x = pos.x + 10;
        map2.y = pos.y + 10;

        system("clear");
    } while (direcao != 'C');

    return 0;
}
